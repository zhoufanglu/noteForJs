<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

<script>
  /*
  字符串 S 由小写字母组成。我们要把这个字符串划分为尽可能多的片段
  ，同一个字母只会出现在其中的一个片段。
  返回一个表示每个字符串片段的长度的列表。
  ---
  输入：S = "ababcbacadefegdehijhklij"
  输出：[9,7,8]
  解释：
  划分结果为 "ababcbaca", "defegde", "hijhklij"。
  每个字母最多出现在一个片段中。
  像 "ababcbacadefegde", "hijhklij" 的划分是错误的，因为划分的片段数较少。
*/
/*
/**
 * @param {string} S
 * @return {number[]}
 */
  var partitionLabels = function (S) {
    let str = S
    let returnAdd = [] //返回切割的对象
    let isBreak = false
    let isRunWhile = true
    console.log('-------------------ababcbacadefegdehijhklij')
    //1、找出离第一个元素最远，且最相同的元素
    while(isRunWhile){
      let startIndex = 0 //切割的起始索引
      let endIndex = 0 //切割的结束索引

      for(let i = 0; i<str.length; i++){
        console.log(39, i)
        startIndex = i
        if(i === 3){
          console.log('xxx')
          isRunWhile = false
          break
        }

        if(isBreak) break

        for(let j = str.length-1; j>0; j--){
          if(str[i] === str[j] || endIndex !==0 ){
            endIndex = j+1
            //定义切割的第一个string和第二个string
            let strBefore = '', strAfter = ''
            //进行切割
            //因为截取的j之前的的一位，所以要j+1
            strBefore = str.substring(startIndex, endIndex)
            strAfter = str.slice(endIndex)

            //判断两个有没有交集,如果没有 就塞入赋值
            if(!checkTwoStringIsSame(strBefore, strAfter)){
              //赋值
              returnAdd.push(strBefore)
              //去掉截取掉的部分
              str = strAfter
            }else{
              //如果有交集,重新切割，往后移动一位
              endIndex++
            }
            isBreak = true
            break
          }
        }
      }
      console.log(50, returnAdd)
      console.log(51, str)
    }
  }
  partitionLabels('ababcbacadefegdehijhklij')

  function checkTwoStringIsSame(str1, str2) {
    let flag = false
    for(let i=0;i<str1.length;i++){
      if(str2.indexOf(str1[i])!==-1){
        flag = true
        break
      }
    }
    return flag
  }

</script>
</body>
</html>