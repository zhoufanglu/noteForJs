<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
  /**********************获取上个月的最后一天***********************/
  function getLastMountLastDay() {
    var nowdays = new Date();
    var year = nowdays.getFullYear();
    var month = nowdays.getMonth();
    if (month == 0) {
      month = 12;
      year = year - 1;

    }
    if (month < 10) {
      month = '0' + month;
    }

    var myDate = new Date(year, month, 0);

    var startDate = year + '-' + month; //上个月第一天
    var endDate = year + '-' + month + '-' + myDate.getDate(); //上个月最后一天
    return endDate
  }

  /********************** 获取上个季度的最后一天 ***********************/
//获取选中季度的第一天和最后一天
  function getFirstAndLastQuarterDay() {
    let firstDate = '', lastDate = ''
    var myDate = new Date();
    // 当前月份
    const currMonth = myDate.getMonth() + 1; //获取当前月份(0-11,0代表1月)

    // 当前季度
    let quarter = Math.floor( ( currMonth % 3 == 0 ? ( currMonth / 3 ) : ( currMonth / 3 + 1 ) ) );
    // 需要获取上一季度 1-4, 2-1,3-2, 4-3
    const quarterTemp = {1:4, 2:1, 3:2, 4:3}
    quarter = quarterTemp[quarter]

    // 当前年份
    var year= myDate.getFullYear();
    // console.log(42, year, quarter, currMonth)

    if(quarter=="1"){
      firstDate = year + '-' + 01 + '-01';
      var day = new Date(year,3,0);
      lastDate = year + '-' + 03 + '-' + day.getDate();//获取第一季度最后一天日期
    }else if(quarter=="2") {
      firstDate = year + '-' + 04 + '-01';
      var day = new Date(year,6,0);
      lastDate = year + '-' + 06 + '-' + day.getDate();//获取第二季度最后一天日期
    } else if(quarter=="3") {
      firstDate = year + '-' + 07 + '-01';
      var day = new Date(year,9,0);
      lastDate = year + '-' + 09 + '-' + day.getDate();//获取第三季度最后一天日期
    } else if(quarter=="4") {
      firstDate = year + '-' + 10+ '-01';
      var day = new Date(year,12,0);
      lastDate = year + '-' + 12 + '-' + day.getDate();//获取第四季度最后一天日期
    }
    return lastDate
  }


  /********************** 获取上年的最后一天 ***********************/
  function getLastYearLastDay() {
    var myDate = new Date();
    // 当前年份
    var year= myDate.getFullYear();
    return year-1 + '-12-31'
  }

  console.log(26, getLastMountLastDay())
  console.log(55, getFirstAndLastQuarterDay())
  console.log(79, getLastYearLastDay())

</script>
</body>
</html>
