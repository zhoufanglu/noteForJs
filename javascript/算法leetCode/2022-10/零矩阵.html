<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
  /**
   * @param {number[][]} matrix
   * @return {void} Do not return anything, modify matrix in-place instead.
   */
  /**********************自己的方法-成功了***********************/
/*
  var setZeroes = function (matrix) {
    // console.log(14, matrix)
    let objArr = []
    // 总行数和总列数
    let rowNum = 0, columnNum = 0
    // 生成对象二维数组
    for (let i = 0; i < matrix.length; i++) {
      rowNum++
      // console.log('-----')
      objArr[i] = []
      columnNum = 0
      for (let j = 0; j < matrix[0].length; j++) {
        columnNum++
        objArr[i].push({
          value: matrix[i][j],
          flag: false
        })
      }
    }

    for (let i = 0; i < objArr.length; i++) {
      // console.log('-----')
      for (let j = 0; j < objArr[0].length; j++) {
        // console.log(34, objArr[i][j])
        // 如果当前为0 把行和列的标记置为true
        if (objArr[i][j].value === 0) {
          const cur_i_index = i, cur_j_index = j
          // 当前行为true
          for (let k = 0; k < columnNum; k++) {
            objArr[i][k].flag = true
          }
          // 当前列为true
          for (let k = 0; k < rowNum; k++) {
            objArr[k][j].flag = true
          }
        }
      }
    }

    // console.log(25, objArr)
    // 生成春数字数组
    let returnArr = []
    for (let i = 0; i < objArr.length; i++) {
      returnArr[i] = []
      for (let j = 0; j < objArr[0].length; j++) {
        returnArr[i].push(objArr[i][j].flag ? 0 : objArr[i][j].value)
      }
    }
    for (let i = 0; i < returnArr.length; i++) {
      for (let j = 0; j < returnArr[0].length; j++) {
        matrix[i][j] = returnArr[i][j]
      }
    }
    //console.log(66, matrix)
  };

*/

  /**********************高性能 网络-其它版本***********************/
  var setZeroes = function(matrix) {
    //分析：需要先递归一次，记录0所在位置，避免污染清除，这里用集合set来存储，确保唯一性
    //执行获取 0 所在的 [i,j]，并且把对应的清除掉；let
    let markCol = new Set();
    let markRow = new Set();
    for(let i = 0 ; i < matrix.length ; ++i ){
      for(let j = 0 ; j < matrix[i].length ; ++j ){
        if( matrix[i][j] === 0 ){
          markCol.add(j);
          markRow.add(i);
        }
      }
    }
    console.log(87, markCol)
    console.log(88, markRow)
    for(let i = 0 ; i < matrix.length ; ++i ){
      for(let j = 0 ; j < matrix[i].length ; ++j ){
        if(markRow.has(i) || markCol.has(j)){
          matrix[i][j] = 0;
        }
      }
    }
    return matrix
  };

/*  setZeroes(
    [
      [1, 1, 1],
      [1, 0, 1],
      [1, 1, 1]
    ]
  )*/
  setZeroes(
    [
      [0,1,2,0],
      [3,4,5,2],
      [1,3,1,5]
    ]
  )
</script>
</body>
</html>
